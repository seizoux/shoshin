/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./static/ts/gen.ts":
/*!**************************!*\
  !*** ./static/ts/gen.ts ***!
  \**************************/
/***/ (() => {

eval("\nvar currentStep = 0;\nvar placeholdersContainer = document.getElementById('filePlaceholders');\n// Declare a global array to store uploaded files\nvar uploadedFiles = [];\n// Define an array of texts for each placeholder\nvar placeholderTexts = [\n    \"MAIN\",\n    \"WEAPON\",\n    \"MAIN ECHO\",\n    \"2ND ECHO\",\n    \"3RD ECHO\",\n    \"4TH ECHO\",\n    \"5TH ECHO\",\n    \"SKILLS\",\n    \"RS. CHAINS\"\n    // Add more descriptions as needed\n];\nvar stepTips = [\n    \"Upload the main section of your resonator page (the first icon on the left column).\",\n    \"Upload the weapon section (the second icon on the left column).\",\n    \"Upload the Main Echo equipped on your Resonator (the top one on the echoes equipped, generally the first COST 4).\",\n    \"Upload the 2nd Echo equipped on your Resonator.\",\n    \"Upload the 3rd Echo equipped on your Resonator.\",\n    \"Upload the 4th Echo equipped on your Resonator.\",\n    \"Upload the 5th Echo equipped on your Resonator.\",\n    \"Upload the Skills section of your Resonator (the 4th icon on the left column).\",\n    \"Upload the Resonance Chains section of your resonator (the 5th icon on the left column).\"\n];\ndocument.addEventListener('DOMContentLoaded', function () {\n    var placeholdersContainer = document.getElementById('filePlaceholders');\n    var currentStep = 0;\n    // Function to update the #stepTip content with step number\n    function updateStepTip(currentStep) {\n        var stepTipElement = document.getElementById('stepTip');\n        if (stepTipElement && stepTips[currentStep]) {\n            // Format the tip with step number and custom text\n            stepTipElement.innerHTML = \"<p>TIP (Step \".concat(currentStep + 1, \"): \").concat(stepTips[currentStep], \"</p>\");\n            stepTipElement.className = 'text-center text-sm text-black dark:text-white'; // Tailwind CSS classes\n        }\n    }\n    function initializePlaceholders() {\n        // Create line containers\n        var firstLineContainer = document.createElement('div');\n        firstLineContainer.className = 'flex justify-center items-center flex-wrap mb-4 gap-2'; // Flex container for the first line\n        var secondLineContainer = document.createElement('div');\n        secondLineContainer.className = 'flex justify-center items-center flex-wrap gap-2'; // Flex container for the second line\n        for (var i = 0; i < 9; i++) {\n            // Create the main container div for each placeholder and its description\n            var mainContainerDiv = document.createElement('div');\n            mainContainerDiv.className = 'flex flex-col items-center justify-center mb-4'; // Margin bottom for spacing\n            // Create the wrapper div for the image with specified classes\n            var wrapperDiv = document.createElement('div');\n            // Adjusted classes for a wider appearance\n            wrapperDiv.className = 'bg-transparent input-glow-dark p-2 flex justify-center items-center w-48 h-24 border-2 border-dashed border-gray-300 rounded-lg';\n            // Create the img element\n            var img = document.createElement('img');\n            img.src = 'https://shoshin.moe/static/empty.png'; // Default placeholder image\n            img.className = 'max-w-full max-h-full object-contain';\n            img.alt = \"Placeholder \".concat(i + 1);\n            // Append the img to the wrapper div\n            wrapperDiv.appendChild(img);\n            // Append the wrapper div to the main container div\n            mainContainerDiv.appendChild(wrapperDiv);\n            // Create and append the description text outside and below the image wrapper\n            var descriptionText = document.createElement('span');\n            descriptionText.textContent = placeholderTexts[i]; // Get text from array\n            descriptionText.className = 'text-center mt-2 text-black dark:text-white font-bold';\n            mainContainerDiv.appendChild(descriptionText);\n            // Append the main container div to the appropriate line container\n            if (i < 5) {\n                firstLineContainer.appendChild(mainContainerDiv);\n            }\n            else {\n                secondLineContainer.appendChild(mainContainerDiv);\n            }\n        }\n        // Create a new flex container for both line containers\n        var flexContainer = document.createElement('div');\n        flexContainer.className = 'flex flex-col gap-2'; // Flex column with gap\n        // Append line containers to the new flex container\n        flexContainer.appendChild(firstLineContainer);\n        flexContainer.appendChild(secondLineContainer);\n        // Append the new flex container to the placeholders container\n        placeholdersContainer.appendChild(flexContainer);\n        updateStepTip(0);\n    }\n    function handleFileUpload(event) {\n        var input = event.target;\n        var files = input.files;\n        if (!files)\n            return;\n        // Check if files are selected\n        if (files.length === 0) {\n            alert('Please select a file.');\n            return;\n        }\n        // Check for the number of files exceeding the remaining placeholders\n        if (files.length > 9 - currentStep) {\n            alert(\"You can only upload \".concat(9 - currentStep, \" more file(s).\"));\n            return;\n        }\n        for (var i = 0; i < files.length; i++) {\n            var file = files[i];\n            // Check file type\n            if (!['image/png', 'image/jpg', 'image/jpeg'].includes(file.type)) {\n                alert('Only PNG, JPG, and JPEG files are allowed.');\n                continue; // Skip this file and continue with the next\n            }\n            // Check file size (20MB)\n            if (file.size > 20 * 1024 * 1024) {\n                alert('File size must be less than 20MB.');\n                continue; // Skip this file and continue with the next\n            }\n            // File passes all checks, add it to the uploadedFiles array\n            uploadedFiles.push(file);\n            if (currentStep < 9) {\n                // Assuming the first 5 placeholders are in the firstLineContainer and the rest in the secondLineContainer\n                var lineContainerIndex = currentStep < 5 ? 0 : 1; // 0 for firstLineContainer, 1 for secondLineContainer\n                var lineContainer = placeholdersContainer.children[0].children[lineContainerIndex]; // Access the new flex container, then the correct line container\n                // Calculate the index of the mainContainerDiv within the selected line container\n                var mainContainerDivIndex = currentStep < 5 ? currentStep : currentStep - 5;\n                var wrapperDiv = lineContainer.children[mainContainerDivIndex];\n                var img = wrapperDiv.getElementsByTagName('img')[0];\n                img.src = URL.createObjectURL(file); // Replace placeholder with uploaded file image\n                currentStep++;\n                updateStepTip(currentStep);\n                if (currentStep === 9) {\n                    finalizeUpload();\n                    break; // Exit the loop if all placeholders are filled\n                }\n            }\n        }\n    }\n    function showLoadingAnimation() {\n        placeholdersContainer.textContent = ''; // Clear existing content\n        // Create loading animation using provided SVG\n        var loadingHTML = \"\\n            <div role=\\\"status\\\">\\n                <svg aria-hidden=\\\"true\\\" class=\\\"inline w-8 h-8 text-black animate-spin dark:text-white fill-red-600\\\" viewBox=\\\"0 0 100 101\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n                    <path d=\\\"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z\\\" fill=\\\"currentColor\\\"/>\\n                    <path d=\\\"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z\\\" fill=\\\"currentFill\\\"/>\\n                </svg>\\n                <span id=\\\"text-container-loading\\\" class=\\\"sr-only text-black dark:text-white ml-2 sans-it font-bold\\\">Hang tight, we're doing some magic...</span>\\n            </div>\\n        \";\n        // Insert the loading animation HTML into the placeholdersContainer\n        placeholdersContainer.innerHTML = loadingHTML;\n        var textContainer = document.querySelector('#text-container-loading'); // Adjust the selector to your specific container\n        if (textContainer) {\n            var html = textContainer.innerHTML;\n            // Wrap each period in a span with a class 'period'\n            html = html.replace(/\\./g, '<span class=\"period\">.</span>');\n            textContainer.innerHTML = html;\n            var periods_1 = textContainer.querySelectorAll('.period');\n            var current_1 = 0;\n            var animatePeriods_1 = function () {\n                // Remove the 'bounce' class from all periods\n                periods_1.forEach(function (period) { return period.classList.remove('bounce'); });\n                // Add the 'bounce' class to the current period\n                periods_1[current_1].classList.add('bounce');\n                // Move to the next period or loop back to the first\n                current_1 = (current_1 + 1) % periods_1.length;\n                // Set the next animation to start after the current one finishes\n                setTimeout(animatePeriods_1, 500); // Match the duration of the CSS animation\n            };\n            animatePeriods_1(); // Start the animation\n        }\n    }\n    function finalizeUpload() {\n        var p = [115, 104, 111, 115, 104, 105, 110, 46, 109, 111, 101, 47, 97, 112, 105, 47, 103, 101, 110, 101, 114, 97, 116, 101, 95, 98, 117, 105, 108, 100].map(function (c) { return String.fromCharCode(c); }).join('').split('/');\n        var u = \"https://\".concat(p[0], \"/\").concat(p[1], \"/\").concat(p[2]);\n        var proxyUrlParts = [112, 114, 111, 120, 121];\n        var proxyUrl = \"https://\".concat(p[0], \"/\").concat(proxyUrlParts.map(function (c) { return String.fromCharCode(c); }).join(''));\n        showLoadingAnimation();\n        var formData = new FormData();\n        uploadedFiles.forEach(function (file, index) {\n            formData.append(\"file\".concat(index), file);\n        });\n        new Promise(function (resolve, reject) {\n            var fetchWithTimeout = function (url, options, timeout) {\n                if (timeout === void 0) { timeout = 600000; }\n                return new Promise(function (resolve, reject) {\n                    var timer = setTimeout(function () { return reject(new Error('Request timed out')); }, timeout);\n                    fetch(url, options).then(function (response) {\n                        clearTimeout(timer);\n                        resolve(response);\n                    }, function (err) {\n                        clearTimeout(timer);\n                        reject(err);\n                    });\n                });\n            };\n            var displayImageAndButtons = function (data) {\n                placeholdersContainer.textContent = '';\n                var imageAndButtonsContainer = document.createElement('div');\n                imageAndButtonsContainer.className = 'flex flex-col justify-center items-center gap-4';\n                var imgContainer = document.createElement('div');\n                imgContainer.className = 'flex flex-row justify-center items-center';\n                var img = document.createElement('img');\n                img.src = \"\".concat(data.image);\n                img.className = 'w-full p-2 md:p-0 md:w-1/2 h-auto';\n                img.style.objectFit = 'contain';\n                imgContainer.appendChild(img);\n                imageAndButtonsContainer.appendChild(imgContainer);\n                var buttonsContainer = document.createElement('div');\n                buttonsContainer.className = 'flex flex-row justify-center items-center gap-4';\n                var downloadButtonUrl = \"\".concat(proxyUrl, \"?url=\").concat(encodeURIComponent(data.image));\n                var downloadButton = document.createElement('a');\n                downloadButton.href = downloadButtonUrl;\n                downloadButton.setAttribute('download', \"shoshin_download_\".concat(data.name, \".png\"));\n                downloadButton.className = \"inline-flex items-center justify-center p-2 cursor-pointer rounded-md bg-white text-black hover:bg-black hover:text-white input-glow w-full\";\n                downloadButton.innerText = 'Download';\n                buttonsContainer.appendChild(downloadButton);\n                downloadButton.onclick = function (e) {\n                    e.preventDefault();\n                    fetch(downloadButtonUrl)\n                        .then(function (response) { return response.blob(); })\n                        .then(function (blob) {\n                        var url = window.URL.createObjectURL(blob);\n                        var a = document.createElement('a');\n                        a.style.display = 'none';\n                        a.href = url;\n                        a.download = \"shoshin_download_\".concat(data.name, \".png\");\n                        document.body.appendChild(a);\n                        a.click();\n                        window.URL.revokeObjectURL(url);\n                    })\n                        .catch(function (err) { return console.error('Error during download:', err); });\n                };\n                var copyButton = document.createElement('a');\n                copyButton.href = '#';\n                copyButton.className = \"inline-flex items-center justify-center p-2 cursor-pointer rounded-md bg-white text-black hover:bg-black hover:text-white input-glow w-full\";\n                copyButton.innerText = 'Copy URL';\n                copyButton.onclick = function (e) {\n                    e.preventDefault(); // Prevent the default anchor action\n                    navigator.clipboard.writeText(img.src).then(function () {\n                        copyButton.innerText = 'URL Copied!'; // Change button text to indicate success\n                        setTimeout(function () {\n                            copyButton.innerText = 'Copy URL'; // Revert back to original text after 2 seconds\n                        }, 2000);\n                    }).catch(function (err) {\n                        console.error('Error copying URL:', err);\n                    });\n                };\n                buttonsContainer.appendChild(copyButton); // Append the copy URL button within the flex container\n                imageAndButtonsContainer.appendChild(buttonsContainer); // Append the buttons container to the main container\n                placeholdersContainer.appendChild(imageAndButtonsContainer); // Append the new div to the main container\n            };\n            fetchWithTimeout(u, {\n                method: 'POST',\n                body: formData,\n            }, 600000)\n                .then(function (response) { return response.json(); })\n                .then(function (data) {\n                console.log(data);\n                if (data.error) {\n                    if (data.hasOwnProperty('confirm')) {\n                        var confirmationContainer = document.createElement('div');\n                        confirmationContainer.className = 'flex flex-col justify-center items-center gap-4';\n                        var confirmMessage = document.createElement('div');\n                        confirmMessage.className = 'text-black dark:text-white font-bold';\n                        confirmMessage.innerText = data.confirm;\n                        var buttonsRow = document.createElement('div');\n                        buttonsRow.className = 'flex flex-row justify-center items-center gap-4';\n                        var yesButton = document.createElement('button');\n                        yesButton.className = 'bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded';\n                        yesButton.innerText = \"Yes, it's me!\";\n                        yesButton.onclick = function () {\n                            showLoadingAnimation();\n                            var confirmUrl = \"https://\".concat(p[0], \"/\").concat(p[1], \"/generate_build\");\n                            var confirmPayload = {\n                                confirm: true,\n                            };\n                            // Convert confirmPayload to JSON string and append it to FormData\n                            formData.append('confirmPayload', JSON.stringify(confirmPayload));\n                            fetchWithTimeout(confirmUrl, {\n                                method: 'POST',\n                                body: formData\n                            }, 600000)\n                                .then(function (response) { return response.json(); })\n                                .then(function (confirmData) {\n                                console.log(confirmData);\n                                displayImageAndButtons(confirmData);\n                            })\n                                .catch(function (err) { return console.error('Error during confirmation:', err); });\n                        };\n                        var noButton = document.createElement('button');\n                        noButton.className = 'bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded';\n                        noButton.innerText = \"Not at all..\";\n                        noButton.onclick = function () {\n                            window.location.reload();\n                        };\n                        buttonsRow.appendChild(yesButton);\n                        buttonsRow.appendChild(noButton);\n                        confirmationContainer.appendChild(confirmMessage);\n                        confirmationContainer.appendChild(buttonsRow);\n                        placeholdersContainer.textContent = '';\n                        placeholdersContainer.appendChild(confirmationContainer);\n                        return reject(data.error);\n                    }\n                    placeholdersContainer.textContent = data.error || 'Error loading image.';\n                    return reject(data.error);\n                }\n                displayImageAndButtons(data);\n                resolve(data);\n            })\n                .catch(function (error) {\n                console.error('Error:', error);\n                placeholdersContainer.textContent = 'Error loading image.';\n                reject(error);\n            });\n        });\n    }\n    var fileUploadInput = document.getElementById('fileUpload');\n    fileUploadInput.addEventListener('change', handleFileUpload);\n    initializePlaceholders();\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2hvc2hpbi1iZXRhLy4vc3RhdGljL3RzL2dlbi50cz84NzViIl0sInNvdXJjZXNDb250ZW50IjpbImxldCBjdXJyZW50U3RlcCA9IDA7XG5jb25zdCBwbGFjZWhvbGRlcnNDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsZVBsYWNlaG9sZGVycycpIGFzIEhUTUxFbGVtZW50O1xuLy8gRGVjbGFyZSBhIGdsb2JhbCBhcnJheSB0byBzdG9yZSB1cGxvYWRlZCBmaWxlc1xubGV0IHVwbG9hZGVkRmlsZXM6IEZpbGVbXSA9IFtdO1xuXG4vLyBEZWZpbmUgYW4gYXJyYXkgb2YgdGV4dHMgZm9yIGVhY2ggcGxhY2Vob2xkZXJcbmNvbnN0IHBsYWNlaG9sZGVyVGV4dHMgPSBbXG4gICAgXCJNQUlOXCIsXG4gICAgXCJXRUFQT05cIixcbiAgICBcIk1BSU4gRUNIT1wiLFxuICAgIFwiMk5EIEVDSE9cIixcbiAgICBcIjNSRCBFQ0hPXCIsXG4gICAgXCI0VEggRUNIT1wiLFxuICAgIFwiNVRIIEVDSE9cIixcbiAgICBcIlNLSUxMU1wiLFxuICAgIFwiUlMuIENIQUlOU1wiXG4gICAgLy8gQWRkIG1vcmUgZGVzY3JpcHRpb25zIGFzIG5lZWRlZFxuXTtcbmNvbnN0IHN0ZXBUaXBzID0gW1xuICAgIFwiVXBsb2FkIHRoZSBtYWluIHNlY3Rpb24gb2YgeW91ciByZXNvbmF0b3IgcGFnZSAodGhlIGZpcnN0IGljb24gb24gdGhlIGxlZnQgY29sdW1uKS5cIixcbiAgICBcIlVwbG9hZCB0aGUgd2VhcG9uIHNlY3Rpb24gKHRoZSBzZWNvbmQgaWNvbiBvbiB0aGUgbGVmdCBjb2x1bW4pLlwiLFxuICAgIFwiVXBsb2FkIHRoZSBNYWluIEVjaG8gZXF1aXBwZWQgb24geW91ciBSZXNvbmF0b3IgKHRoZSB0b3Agb25lIG9uIHRoZSBlY2hvZXMgZXF1aXBwZWQsIGdlbmVyYWxseSB0aGUgZmlyc3QgQ09TVCA0KS5cIixcbiAgICBcIlVwbG9hZCB0aGUgMm5kIEVjaG8gZXF1aXBwZWQgb24geW91ciBSZXNvbmF0b3IuXCIsXG4gICAgXCJVcGxvYWQgdGhlIDNyZCBFY2hvIGVxdWlwcGVkIG9uIHlvdXIgUmVzb25hdG9yLlwiLFxuICAgIFwiVXBsb2FkIHRoZSA0dGggRWNobyBlcXVpcHBlZCBvbiB5b3VyIFJlc29uYXRvci5cIixcbiAgICBcIlVwbG9hZCB0aGUgNXRoIEVjaG8gZXF1aXBwZWQgb24geW91ciBSZXNvbmF0b3IuXCIsXG4gICAgXCJVcGxvYWQgdGhlIFNraWxscyBzZWN0aW9uIG9mIHlvdXIgUmVzb25hdG9yICh0aGUgNHRoIGljb24gb24gdGhlIGxlZnQgY29sdW1uKS5cIixcbiAgICBcIlVwbG9hZCB0aGUgUmVzb25hbmNlIENoYWlucyBzZWN0aW9uIG9mIHlvdXIgcmVzb25hdG9yICh0aGUgNXRoIGljb24gb24gdGhlIGxlZnQgY29sdW1uKS5cIlxuXTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IHBsYWNlaG9sZGVyc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWxlUGxhY2Vob2xkZXJzJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgbGV0IGN1cnJlbnRTdGVwID0gMDtcblxuICAgIC8vIEZ1bmN0aW9uIHRvIHVwZGF0ZSB0aGUgI3N0ZXBUaXAgY29udGVudCB3aXRoIHN0ZXAgbnVtYmVyXG4gICAgZnVuY3Rpb24gdXBkYXRlU3RlcFRpcChjdXJyZW50U3RlcDogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IHN0ZXBUaXBFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0ZXBUaXAnKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgaWYgKHN0ZXBUaXBFbGVtZW50ICYmIHN0ZXBUaXBzW2N1cnJlbnRTdGVwXSkge1xuICAgICAgICAgICAgLy8gRm9ybWF0IHRoZSB0aXAgd2l0aCBzdGVwIG51bWJlciBhbmQgY3VzdG9tIHRleHRcbiAgICAgICAgICAgIHN0ZXBUaXBFbGVtZW50LmlubmVySFRNTCA9IGA8cD5USVAgKFN0ZXAgJHtjdXJyZW50U3RlcCArIDF9KTogJHtzdGVwVGlwc1tjdXJyZW50U3RlcF19PC9wPmA7XG4gICAgICAgICAgICBzdGVwVGlwRWxlbWVudC5jbGFzc05hbWUgPSAndGV4dC1jZW50ZXIgdGV4dC1zbSB0ZXh0LWJsYWNrIGRhcms6dGV4dC13aGl0ZSc7IC8vIFRhaWx3aW5kIENTUyBjbGFzc2VzXG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gaW5pdGlhbGl6ZVBsYWNlaG9sZGVycygpIHtcbiAgICAgICAgLy8gQ3JlYXRlIGxpbmUgY29udGFpbmVyc1xuICAgICAgICBjb25zdCBmaXJzdExpbmVDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZmlyc3RMaW5lQ29udGFpbmVyLmNsYXNzTmFtZSA9ICdmbGV4IGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlciBmbGV4LXdyYXAgbWItNCBnYXAtMic7IC8vIEZsZXggY29udGFpbmVyIGZvciB0aGUgZmlyc3QgbGluZVxuICAgIFxuICAgICAgICBjb25zdCBzZWNvbmRMaW5lQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHNlY29uZExpbmVDb250YWluZXIuY2xhc3NOYW1lID0gJ2ZsZXgganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIGZsZXgtd3JhcCBnYXAtMic7IC8vIEZsZXggY29udGFpbmVyIGZvciB0aGUgc2Vjb25kIGxpbmVcbiAgICBcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA5OyBpKyspIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgbWFpbiBjb250YWluZXIgZGl2IGZvciBlYWNoIHBsYWNlaG9sZGVyIGFuZCBpdHMgZGVzY3JpcHRpb25cbiAgICAgICAgICAgIGNvbnN0IG1haW5Db250YWluZXJEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIG1haW5Db250YWluZXJEaXYuY2xhc3NOYW1lID0gJ2ZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG1iLTQnOyAvLyBNYXJnaW4gYm90dG9tIGZvciBzcGFjaW5nXG4gICAgXG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIHdyYXBwZXIgZGl2IGZvciB0aGUgaW1hZ2Ugd2l0aCBzcGVjaWZpZWQgY2xhc3Nlc1xuICAgICAgICAgICAgY29uc3Qgd3JhcHBlckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgLy8gQWRqdXN0ZWQgY2xhc3NlcyBmb3IgYSB3aWRlciBhcHBlYXJhbmNlXG4gICAgICAgICAgICB3cmFwcGVyRGl2LmNsYXNzTmFtZSA9ICdiZy10cmFuc3BhcmVudCBpbnB1dC1nbG93LWRhcmsgcC0yIGZsZXgganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIHctNDggaC0yNCBib3JkZXItMiBib3JkZXItZGFzaGVkIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLWxnJztcbiAgICBcbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgaW1nIGVsZW1lbnRcbiAgICAgICAgICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgICAgICAgaW1nLnNyYyA9ICdodHRwczovL3Nob3NoaW4ubW9lL3N0YXRpYy9lbXB0eS5wbmcnOyAvLyBEZWZhdWx0IHBsYWNlaG9sZGVyIGltYWdlXG4gICAgICAgICAgICBpbWcuY2xhc3NOYW1lID0gJ21heC13LWZ1bGwgbWF4LWgtZnVsbCBvYmplY3QtY29udGFpbic7XG4gICAgICAgICAgICBpbWcuYWx0ID0gYFBsYWNlaG9sZGVyICR7aSArIDF9YDtcbiAgICBcbiAgICAgICAgICAgIC8vIEFwcGVuZCB0aGUgaW1nIHRvIHRoZSB3cmFwcGVyIGRpdlxuICAgICAgICAgICAgd3JhcHBlckRpdi5hcHBlbmRDaGlsZChpbWcpO1xuICAgIFxuICAgICAgICAgICAgLy8gQXBwZW5kIHRoZSB3cmFwcGVyIGRpdiB0byB0aGUgbWFpbiBjb250YWluZXIgZGl2XG4gICAgICAgICAgICBtYWluQ29udGFpbmVyRGl2LmFwcGVuZENoaWxkKHdyYXBwZXJEaXYpO1xuICAgIFxuICAgICAgICAgICAgLy8gQ3JlYXRlIGFuZCBhcHBlbmQgdGhlIGRlc2NyaXB0aW9uIHRleHQgb3V0c2lkZSBhbmQgYmVsb3cgdGhlIGltYWdlIHdyYXBwZXJcbiAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uVGV4dC50ZXh0Q29udGVudCA9IHBsYWNlaG9sZGVyVGV4dHNbaV07IC8vIEdldCB0ZXh0IGZyb20gYXJyYXlcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uVGV4dC5jbGFzc05hbWUgPSAndGV4dC1jZW50ZXIgbXQtMiB0ZXh0LWJsYWNrIGRhcms6dGV4dC13aGl0ZSBmb250LWJvbGQnO1xuICAgICAgICAgICAgbWFpbkNvbnRhaW5lckRpdi5hcHBlbmRDaGlsZChkZXNjcmlwdGlvblRleHQpO1xuICAgIFxuICAgICAgICAgICAgLy8gQXBwZW5kIHRoZSBtYWluIGNvbnRhaW5lciBkaXYgdG8gdGhlIGFwcHJvcHJpYXRlIGxpbmUgY29udGFpbmVyXG4gICAgICAgICAgICBpZiAoaSA8IDUpIHtcbiAgICAgICAgICAgICAgICBmaXJzdExpbmVDb250YWluZXIuYXBwZW5kQ2hpbGQobWFpbkNvbnRhaW5lckRpdik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlY29uZExpbmVDb250YWluZXIuYXBwZW5kQ2hpbGQobWFpbkNvbnRhaW5lckRpdik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IGZsZXggY29udGFpbmVyIGZvciBib3RoIGxpbmUgY29udGFpbmVyc1xuICAgICAgICBjb25zdCBmbGV4Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGZsZXhDb250YWluZXIuY2xhc3NOYW1lID0gJ2ZsZXggZmxleC1jb2wgZ2FwLTInOyAvLyBGbGV4IGNvbHVtbiB3aXRoIGdhcFxuICAgICAgICAvLyBBcHBlbmQgbGluZSBjb250YWluZXJzIHRvIHRoZSBuZXcgZmxleCBjb250YWluZXJcbiAgICAgICAgZmxleENvbnRhaW5lci5hcHBlbmRDaGlsZChmaXJzdExpbmVDb250YWluZXIpO1xuICAgICAgICBmbGV4Q29udGFpbmVyLmFwcGVuZENoaWxkKHNlY29uZExpbmVDb250YWluZXIpO1xuICAgICAgICAvLyBBcHBlbmQgdGhlIG5ldyBmbGV4IGNvbnRhaW5lciB0byB0aGUgcGxhY2Vob2xkZXJzIGNvbnRhaW5lclxuICAgICAgICBwbGFjZWhvbGRlcnNDb250YWluZXIuYXBwZW5kQ2hpbGQoZmxleENvbnRhaW5lcik7XG4gICAgICAgIHVwZGF0ZVN0ZXBUaXAoMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlRmlsZVVwbG9hZChldmVudDogRXZlbnQpIHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBldmVudC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgY29uc3QgZmlsZXMgPSBpbnB1dC5maWxlcztcblxuICAgICAgICBpZiAoIWZpbGVzKSByZXR1cm47XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgZmlsZXMgYXJlIHNlbGVjdGVkXG4gICAgICAgIGlmIChmaWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGFsZXJ0KCdQbGVhc2Ugc2VsZWN0IGEgZmlsZS4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGZvciB0aGUgbnVtYmVyIG9mIGZpbGVzIGV4Y2VlZGluZyB0aGUgcmVtYWluaW5nIHBsYWNlaG9sZGVyc1xuICAgICAgICBpZiAoZmlsZXMubGVuZ3RoID4gOSAtIGN1cnJlbnRTdGVwKSB7XG4gICAgICAgICAgICBhbGVydChgWW91IGNhbiBvbmx5IHVwbG9hZCAkezkgLSBjdXJyZW50U3RlcH0gbW9yZSBmaWxlKHMpLmApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZmlsZSA9IGZpbGVzW2ldO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBmaWxlIHR5cGVcbiAgICAgICAgICAgIGlmICghWydpbWFnZS9wbmcnLCAnaW1hZ2UvanBnJywgJ2ltYWdlL2pwZWcnXS5pbmNsdWRlcyhmaWxlLnR5cGUpKSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoJ09ubHkgUE5HLCBKUEcsIGFuZCBKUEVHIGZpbGVzIGFyZSBhbGxvd2VkLicpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIHRoaXMgZmlsZSBhbmQgY29udGludWUgd2l0aCB0aGUgbmV4dFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBmaWxlIHNpemUgKDIwTUIpXG4gICAgICAgICAgICBpZiAoZmlsZS5zaXplID4gMjAgKiAxMDI0ICogMTAyNCkge1xuICAgICAgICAgICAgICAgIGFsZXJ0KCdGaWxlIHNpemUgbXVzdCBiZSBsZXNzIHRoYW4gMjBNQi4nKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gU2tpcCB0aGlzIGZpbGUgYW5kIGNvbnRpbnVlIHdpdGggdGhlIG5leHRcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRmlsZSBwYXNzZXMgYWxsIGNoZWNrcywgYWRkIGl0IHRvIHRoZSB1cGxvYWRlZEZpbGVzIGFycmF5XG4gICAgICAgICAgICB1cGxvYWRlZEZpbGVzLnB1c2goZmlsZSk7XG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50U3RlcCA8IDkpIHtcbiAgICAgICAgICAgICAgICAvLyBBc3N1bWluZyB0aGUgZmlyc3QgNSBwbGFjZWhvbGRlcnMgYXJlIGluIHRoZSBmaXJzdExpbmVDb250YWluZXIgYW5kIHRoZSByZXN0IGluIHRoZSBzZWNvbmRMaW5lQ29udGFpbmVyXG4gICAgICAgICAgICAgICAgY29uc3QgbGluZUNvbnRhaW5lckluZGV4ID0gY3VycmVudFN0ZXAgPCA1ID8gMCA6IDE7IC8vIDAgZm9yIGZpcnN0TGluZUNvbnRhaW5lciwgMSBmb3Igc2Vjb25kTGluZUNvbnRhaW5lclxuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVDb250YWluZXIgPSBwbGFjZWhvbGRlcnNDb250YWluZXIuY2hpbGRyZW5bMF0uY2hpbGRyZW5bbGluZUNvbnRhaW5lckluZGV4XSBhcyBIVE1MRWxlbWVudDsgLy8gQWNjZXNzIHRoZSBuZXcgZmxleCBjb250YWluZXIsIHRoZW4gdGhlIGNvcnJlY3QgbGluZSBjb250YWluZXJcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBpbmRleCBvZiB0aGUgbWFpbkNvbnRhaW5lckRpdiB3aXRoaW4gdGhlIHNlbGVjdGVkIGxpbmUgY29udGFpbmVyXG4gICAgICAgICAgICAgICAgY29uc3QgbWFpbkNvbnRhaW5lckRpdkluZGV4ID0gY3VycmVudFN0ZXAgPCA1ID8gY3VycmVudFN0ZXAgOiBjdXJyZW50U3RlcCAtIDU7XG4gICAgICAgICAgICAgICAgY29uc3Qgd3JhcHBlckRpdiA9IGxpbmVDb250YWluZXIuY2hpbGRyZW5bbWFpbkNvbnRhaW5lckRpdkluZGV4XSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgaW1nID0gd3JhcHBlckRpdi5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW1nJylbMF07XG4gICAgICAgICAgICAgICAgaW1nLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7IC8vIFJlcGxhY2UgcGxhY2Vob2xkZXIgd2l0aCB1cGxvYWRlZCBmaWxlIGltYWdlXG5cbiAgICAgICAgICAgICAgICBjdXJyZW50U3RlcCsrO1xuICAgICAgICAgICAgICAgIHVwZGF0ZVN0ZXBUaXAoY3VycmVudFN0ZXApO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U3RlcCA9PT0gOSkge1xuICAgICAgICAgICAgICAgICAgICBmaW5hbGl6ZVVwbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhazsgLy8gRXhpdCB0aGUgbG9vcCBpZiBhbGwgcGxhY2Vob2xkZXJzIGFyZSBmaWxsZWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzaG93TG9hZGluZ0FuaW1hdGlvbigpIHtcbiAgICAgICAgcGxhY2Vob2xkZXJzQ29udGFpbmVyLnRleHRDb250ZW50ID0gJyc7IC8vIENsZWFyIGV4aXN0aW5nIGNvbnRlbnRcblxuICAgICAgICAvLyBDcmVhdGUgbG9hZGluZyBhbmltYXRpb24gdXNpbmcgcHJvdmlkZWQgU1ZHXG4gICAgICAgIGNvbnN0IGxvYWRpbmdIVE1MID0gYFxuICAgICAgICAgICAgPGRpdiByb2xlPVwic3RhdHVzXCI+XG4gICAgICAgICAgICAgICAgPHN2ZyBhcmlhLWhpZGRlbj1cInRydWVcIiBjbGFzcz1cImlubGluZSB3LTggaC04IHRleHQtYmxhY2sgYW5pbWF0ZS1zcGluIGRhcms6dGV4dC13aGl0ZSBmaWxsLXJlZC02MDBcIiB2aWV3Qm94PVwiMCAwIDEwMCAxMDFcIiBmaWxsPVwibm9uZVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cbiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xMDAgNTAuNTkwOEMxMDAgNzguMjA1MSA3Ny42MTQyIDEwMC41OTEgNTAgMTAwLjU5MUMyMi4zODU4IDEwMC41OTEgMCA3OC4yMDUxIDAgNTAuNTkwOEMwIDIyLjk3NjYgMjIuMzg1OCAwLjU5MDgyIDUwIDAuNTkwODJDNzcuNjE0MiAwLjU5MDgyIDEwMCAyMi45NzY2IDEwMCA1MC41OTA4Wk05LjA4MTQ0IDUwLjU5MDhDOS4wODE0NCA3My4xODk1IDI3LjQwMTMgOTEuNTA5NCA1MCA5MS41MDk0QzcyLjU5ODcgOTEuNTA5NCA5MC45MTg2IDczLjE4OTUgOTAuOTE4NiA1MC41OTA4QzkwLjkxODYgMjcuOTkyMSA3Mi41OTg3IDkuNjcyMjYgNTAgOS42NzIyNkMyNy40MDEzIDkuNjcyMjYgOS4wODE0NCAyNy45OTIxIDkuMDgxNDQgNTAuNTkwOFpcIiBmaWxsPVwiY3VycmVudENvbG9yXCIvPlxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTkzLjk2NzYgMzkuMDQwOUM5Ni4zOTMgMzguNDAzOCA5Ny44NjI0IDM1LjkxMTYgOTcuMDA3OSAzMy41NTM5Qzk1LjI5MzIgMjguODIyNyA5Mi44NzEgMjQuMzY5MiA4OS44MTY3IDIwLjM0OEM4NS44NDUyIDE1LjExOTIgODAuODgyNiAxMC43MjM4IDc1LjIxMjQgNy40MTI4OUM2OS41NDIyIDQuMTAxOTQgNjMuMjc1NCAxLjk0MDI1IDU2Ljc2OTggMS4wNTEyNEM1MS43NjY2IDAuMzY3NTQxIDQ2LjY5NzYgMC40NDY4NDMgNDEuNzM0NSAxLjI3ODczQzM5LjI2MTMgMS42OTMyOCAzNy44MTMgNC4xOTc3OCAzOC40NTAxIDYuNjIzMjZDMzkuMDg3MyA5LjA0ODc0IDQxLjU2OTQgMTAuNDcxNyA0NC4wNTA1IDEwLjEwNzFDNDcuODUxMSA5LjU0ODU1IDUxLjcxOTEgOS41MjY4OSA1NS41NDAyIDEwLjA0OTFDNjAuODY0MiAxMC43NzY2IDY1Ljk5MjggMTIuNTQ1NyA3MC42MzMxIDE1LjI1NTJDNzUuMjczNSAxNy45NjQ4IDc5LjMzNDcgMjEuNTYxOSA4Mi41ODQ5IDI1Ljg0MUM4NC45MTc1IDI4LjkxMjEgODYuNzk5NyAzMi4yOTEzIDg4LjE4MTEgMzUuODc1OEM4OS4wODMgMzguMjE1OCA5MS41NDIxIDM5LjY3ODEgOTMuOTY3NiAzOS4wNDA5WlwiIGZpbGw9XCJjdXJyZW50RmlsbFwiLz5cbiAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICA8c3BhbiBpZD1cInRleHQtY29udGFpbmVyLWxvYWRpbmdcIiBjbGFzcz1cInNyLW9ubHkgdGV4dC1ibGFjayBkYXJrOnRleHQtd2hpdGUgbWwtMiBzYW5zLWl0IGZvbnQtYm9sZFwiPkhhbmcgdGlnaHQsIHdlJ3JlIGRvaW5nIHNvbWUgbWFnaWMuLi48L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICBcbiAgICAgICAgLy8gSW5zZXJ0IHRoZSBsb2FkaW5nIGFuaW1hdGlvbiBIVE1MIGludG8gdGhlIHBsYWNlaG9sZGVyc0NvbnRhaW5lclxuICAgICAgICBwbGFjZWhvbGRlcnNDb250YWluZXIuaW5uZXJIVE1MID0gbG9hZGluZ0hUTUw7XG4gICAgICAgIGNvbnN0IHRleHRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGV4dC1jb250YWluZXItbG9hZGluZycpIGFzIEhUTUxFbGVtZW50OyAvLyBBZGp1c3QgdGhlIHNlbGVjdG9yIHRvIHlvdXIgc3BlY2lmaWMgY29udGFpbmVyXG4gICAgICAgIGlmICh0ZXh0Q29udGFpbmVyKSB7XG4gICAgICAgICAgbGV0IGh0bWwgPSB0ZXh0Q29udGFpbmVyLmlubmVySFRNTDtcbiAgICAgICAgICAvLyBXcmFwIGVhY2ggcGVyaW9kIGluIGEgc3BhbiB3aXRoIGEgY2xhc3MgJ3BlcmlvZCdcbiAgICAgICAgICBodG1sID0gaHRtbC5yZXBsYWNlKC9cXC4vZywgJzxzcGFuIGNsYXNzPVwicGVyaW9kXCI+Ljwvc3Bhbj4nKTtcbiAgICAgICAgICB0ZXh0Q29udGFpbmVyLmlubmVySFRNTCA9IGh0bWw7XG4gICAgICBcbiAgICAgICAgICBjb25zdCBwZXJpb2RzID0gdGV4dENvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcucGVyaW9kJykgYXMgTm9kZUxpc3RPZjxIVE1MRWxlbWVudD47XG4gICAgICAgICAgbGV0IGN1cnJlbnQgPSAwO1xuICAgICAgXG4gICAgICAgICAgY29uc3QgYW5pbWF0ZVBlcmlvZHMgPSAoKSA9PiB7XG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhlICdib3VuY2UnIGNsYXNzIGZyb20gYWxsIHBlcmlvZHNcbiAgICAgICAgICAgIHBlcmlvZHMuZm9yRWFjaChwZXJpb2QgPT4gcGVyaW9kLmNsYXNzTGlzdC5yZW1vdmUoJ2JvdW5jZScpKTtcbiAgICAgIFxuICAgICAgICAgICAgLy8gQWRkIHRoZSAnYm91bmNlJyBjbGFzcyB0byB0aGUgY3VycmVudCBwZXJpb2RcbiAgICAgICAgICAgIHBlcmlvZHNbY3VycmVudF0uY2xhc3NMaXN0LmFkZCgnYm91bmNlJyk7XG4gICAgICBcbiAgICAgICAgICAgIC8vIE1vdmUgdG8gdGhlIG5leHQgcGVyaW9kIG9yIGxvb3AgYmFjayB0byB0aGUgZmlyc3RcbiAgICAgICAgICAgIGN1cnJlbnQgPSAoY3VycmVudCArIDEpICUgcGVyaW9kcy5sZW5ndGg7XG4gICAgICBcbiAgICAgICAgICAgIC8vIFNldCB0aGUgbmV4dCBhbmltYXRpb24gdG8gc3RhcnQgYWZ0ZXIgdGhlIGN1cnJlbnQgb25lIGZpbmlzaGVzXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGFuaW1hdGVQZXJpb2RzLCA1MDApOyAvLyBNYXRjaCB0aGUgZHVyYXRpb24gb2YgdGhlIENTUyBhbmltYXRpb25cbiAgICAgICAgICB9O1xuICAgICAgXG4gICAgICAgICAgYW5pbWF0ZVBlcmlvZHMoKTsgLy8gU3RhcnQgdGhlIGFuaW1hdGlvblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmluYWxpemVVcGxvYWQoKSB7XG4gICAgICAgIGNvbnN0IHAgPSBbMTE1LCAxMDQsIDExMSwgMTE1LCAxMDQsIDEwNSwgMTEwLCA0NiwgMTA5LCAxMTEsIDEwMSwgNDcsIDk3LCAxMTIsIDEwNSwgNDcsIDEwMywgMTAxLCAxMTAsIDEwMSwgMTE0LCA5NywgMTE2LCAxMDEsIDk1LCA5OCwgMTE3LCAxMDUsIDEwOCwgMTAwXS5tYXAoYyA9PiBTdHJpbmcuZnJvbUNoYXJDb2RlKGMpKS5qb2luKCcnKS5zcGxpdCgnLycpO1xuICAgICAgICBjb25zdCB1ID0gYGh0dHBzOi8vJHtwWzBdfS8ke3BbMV19LyR7cFsyXX1gO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcHJveHlVcmxQYXJ0cyA9IFsxMTIsIDExNCwgMTExLCAxMjAsIDEyMV07XG4gICAgICAgIGNvbnN0IHByb3h5VXJsID0gYGh0dHBzOi8vJHtwWzBdfS8ke3Byb3h5VXJsUGFydHMubWFwKGMgPT4gU3RyaW5nLmZyb21DaGFyQ29kZShjKSkuam9pbignJyl9YDtcbiAgICBcbiAgICAgICAgc2hvd0xvYWRpbmdBbmltYXRpb24oKTtcbiAgICBcbiAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgdXBsb2FkZWRGaWxlcy5mb3JFYWNoKChmaWxlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKGBmaWxlJHtpbmRleH1gLCBmaWxlKTtcbiAgICAgICAgfSk7XG4gICAgXG4gICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZldGNoV2l0aFRpbWVvdXQgPSAodXJsOiBzdHJpbmcsIG9wdGlvbnM6IFJlcXVlc3RJbml0LCB0aW1lb3V0ID0gNjAwMDAwKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPFJlc3BvbnNlPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiByZWplY3QobmV3IEVycm9yKCdSZXF1ZXN0IHRpbWVkIG91dCcpKSwgdGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgIGZldGNoKHVybCwgb3B0aW9ucykudGhlbihcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgXG4gICAgICAgICAgICBjb25zdCBkaXNwbGF5SW1hZ2VBbmRCdXR0b25zID0gKGRhdGE6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyc0NvbnRhaW5lci50ZXh0Q29udGVudCA9ICcnO1xuICAgIFxuICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlQW5kQnV0dG9uc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgIGltYWdlQW5kQnV0dG9uc0NvbnRhaW5lci5jbGFzc05hbWUgPSAnZmxleCBmbGV4LWNvbCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXIgZ2FwLTQnO1xuICAgIFxuICAgICAgICAgICAgICAgIGNvbnN0IGltZ0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgIGltZ0NvbnRhaW5lci5jbGFzc05hbWUgPSAnZmxleCBmbGV4LXJvdyBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXInO1xuICAgICAgICAgICAgICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgICAgICAgICAgIGltZy5zcmMgPSBgJHtkYXRhLmltYWdlfWA7XG4gICAgICAgICAgICAgICAgaW1nLmNsYXNzTmFtZSA9ICd3LWZ1bGwgcC0yIG1kOnAtMCBtZDp3LTEvMiBoLWF1dG8nO1xuICAgICAgICAgICAgICAgIGltZy5zdHlsZS5vYmplY3RGaXQgPSAnY29udGFpbic7XG4gICAgXG4gICAgICAgICAgICAgICAgaW1nQ29udGFpbmVyLmFwcGVuZENoaWxkKGltZyk7XG4gICAgICAgICAgICAgICAgaW1hZ2VBbmRCdXR0b25zQ29udGFpbmVyLmFwcGVuZENoaWxkKGltZ0NvbnRhaW5lcik7XG4gICAgXG4gICAgICAgICAgICAgICAgY29uc3QgYnV0dG9uc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgIGJ1dHRvbnNDb250YWluZXIuY2xhc3NOYW1lID0gJ2ZsZXggZmxleC1yb3cganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIGdhcC00JztcbiAgICBcbiAgICAgICAgICAgICAgICBjb25zdCBkb3dubG9hZEJ1dHRvblVybCA9IGAke3Byb3h5VXJsfT91cmw9JHtlbmNvZGVVUklDb21wb25lbnQoZGF0YS5pbWFnZSl9YDtcbiAgICBcbiAgICAgICAgICAgICAgICBjb25zdCBkb3dubG9hZEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgICAgICAgICBkb3dubG9hZEJ1dHRvbi5ocmVmID0gZG93bmxvYWRCdXR0b25Vcmw7XG4gICAgICAgICAgICAgICAgZG93bmxvYWRCdXR0b24uc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsIGBzaG9zaGluX2Rvd25sb2FkXyR7ZGF0YS5uYW1lfS5wbmdgKTtcbiAgICAgICAgICAgICAgICBkb3dubG9hZEJ1dHRvbi5jbGFzc05hbWUgPSBcImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwLTIgY3Vyc29yLXBvaW50ZXIgcm91bmRlZC1tZCBiZy13aGl0ZSB0ZXh0LWJsYWNrIGhvdmVyOmJnLWJsYWNrIGhvdmVyOnRleHQtd2hpdGUgaW5wdXQtZ2xvdyB3LWZ1bGxcIjtcbiAgICAgICAgICAgICAgICBkb3dubG9hZEJ1dHRvbi5pbm5lclRleHQgPSAnRG93bmxvYWQnO1xuICAgICAgICAgICAgICAgIGJ1dHRvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQoZG93bmxvYWRCdXR0b24pO1xuICAgIFxuICAgICAgICAgICAgICAgIGRvd25sb2FkQnV0dG9uLm9uY2xpY2sgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIGZldGNoKGRvd25sb2FkQnV0dG9uVXJsKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuYmxvYigpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oYmxvYiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYS5ocmVmID0gdXJsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEuZG93bmxvYWQgPSBgc2hvc2hpbl9kb3dubG9hZF8ke2RhdGEubmFtZX0ucG5nYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEuY2xpY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5lcnJvcignRXJyb3IgZHVyaW5nIGRvd25sb2FkOicsIGVycikpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgXG4gICAgICAgICAgICAgICAgY29uc3QgY29weUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgICAgICAgICBjb3B5QnV0dG9uLmhyZWYgPSAnIyc7XG4gICAgICAgICAgICAgICAgY29weUJ1dHRvbi5jbGFzc05hbWUgPSBcImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwLTIgY3Vyc29yLXBvaW50ZXIgcm91bmRlZC1tZCBiZy13aGl0ZSB0ZXh0LWJsYWNrIGhvdmVyOmJnLWJsYWNrIGhvdmVyOnRleHQtd2hpdGUgaW5wdXQtZ2xvdyB3LWZ1bGxcIjtcbiAgICAgICAgICAgICAgICBjb3B5QnV0dG9uLmlubmVyVGV4dCA9ICdDb3B5IFVSTCc7XG4gICAgICAgICAgICAgICAgY29weUJ1dHRvbi5vbmNsaWNrID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyBQcmV2ZW50IHRoZSBkZWZhdWx0IGFuY2hvciBhY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoaW1nLnNyYykudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3B5QnV0dG9uLmlubmVyVGV4dCA9ICdVUkwgQ29waWVkISc7IC8vIENoYW5nZSBidXR0b24gdGV4dCB0byBpbmRpY2F0ZSBzdWNjZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3B5QnV0dG9uLmlubmVyVGV4dCA9ICdDb3B5IFVSTCc7IC8vIFJldmVydCBiYWNrIHRvIG9yaWdpbmFsIHRleHQgYWZ0ZXIgMiBzZWNvbmRzXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNvcHlpbmcgVVJMOicsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYnV0dG9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChjb3B5QnV0dG9uKTsgLy8gQXBwZW5kIHRoZSBjb3B5IFVSTCBidXR0b24gd2l0aGluIHRoZSBmbGV4IGNvbnRhaW5lclxuICAgIFxuICAgICAgICAgICAgICAgIGltYWdlQW5kQnV0dG9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b25zQ29udGFpbmVyKTsgLy8gQXBwZW5kIHRoZSBidXR0b25zIGNvbnRhaW5lciB0byB0aGUgbWFpbiBjb250YWluZXJcbiAgICBcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcnNDb250YWluZXIuYXBwZW5kQ2hpbGQoaW1hZ2VBbmRCdXR0b25zQ29udGFpbmVyKTsgLy8gQXBwZW5kIHRoZSBuZXcgZGl2IHRvIHRoZSBtYWluIGNvbnRhaW5lclxuICAgICAgICAgICAgfTtcbiAgICBcbiAgICAgICAgICAgIGZldGNoV2l0aFRpbWVvdXQodSwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGJvZHk6IGZvcm1EYXRhLFxuICAgICAgICAgICAgfSwgNjAwMDAwKVxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoJ2NvbmZpcm0nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29uZmlybWF0aW9uQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtYXRpb25Db250YWluZXIuY2xhc3NOYW1lID0gJ2ZsZXggZmxleC1jb2wganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIGdhcC00JztcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbmZpcm1NZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtTWVzc2FnZS5jbGFzc05hbWUgPSAndGV4dC1ibGFjayBkYXJrOnRleHQtd2hpdGUgZm9udC1ib2xkJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1NZXNzYWdlLmlubmVyVGV4dCA9IGRhdGEuY29uZmlybTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYnV0dG9uc1JvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uc1Jvdy5jbGFzc05hbWUgPSAnZmxleCBmbGV4LXJvdyBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXIgZ2FwLTQnO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeWVzQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB5ZXNCdXR0b24uY2xhc3NOYW1lID0gJ2JnLWdyZWVuLTUwMCBob3ZlcjpiZy1ncmVlbi03MDAgdGV4dC13aGl0ZSBmb250LWJvbGQgcHktMiBweC00IHJvdW5kZWQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgeWVzQnV0dG9uLmlubmVyVGV4dCA9IFwiWWVzLCBpdCdzIG1lIVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgeWVzQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0xvYWRpbmdBbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb25maXJtVXJsID0gYGh0dHBzOi8vJHtwWzBdfS8ke3BbMV19L2dlbmVyYXRlX2J1aWxkYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb25maXJtUGF5bG9hZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCBjb25maXJtUGF5bG9hZCB0byBKU09OIHN0cmluZyBhbmQgYXBwZW5kIGl0IHRvIEZvcm1EYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdjb25maXJtUGF5bG9hZCcsIEpTT04uc3RyaW5naWZ5KGNvbmZpcm1QYXlsb2FkKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaFdpdGhUaW1lb3V0KGNvbmZpcm1VcmwsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IGZvcm1EYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgNjAwMDAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihjb25maXJtRGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvbmZpcm1EYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheUltYWdlQW5kQnV0dG9ucyhjb25maXJtRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGR1cmluZyBjb25maXJtYXRpb246JywgZXJyKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9CdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vQnV0dG9uLmNsYXNzTmFtZSA9ICdiZy1yZWQtNTAwIGhvdmVyOmJnLXJlZC03MDAgdGV4dC13aGl0ZSBmb250LWJvbGQgcHktMiBweC00IHJvdW5kZWQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9CdXR0b24uaW5uZXJUZXh0ID0gXCJOb3QgYXQgYWxsLi5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnNSb3cuYXBwZW5kQ2hpbGQoeWVzQnV0dG9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbnNSb3cuYXBwZW5kQ2hpbGQobm9CdXR0b24pO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybWF0aW9uQ29udGFpbmVyLmFwcGVuZENoaWxkKGNvbmZpcm1NZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm1hdGlvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b25zUm93KTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyc0NvbnRhaW5lci50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXJzQ29udGFpbmVyLmFwcGVuZENoaWxkKGNvbmZpcm1hdGlvbkNvbnRhaW5lcik7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGRhdGEuZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyc0NvbnRhaW5lci50ZXh0Q29udGVudCA9IGRhdGEuZXJyb3IgfHwgJ0Vycm9yIGxvYWRpbmcgaW1hZ2UuJztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChkYXRhLmVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgZGlzcGxheUltYWdlQW5kQnV0dG9ucyhkYXRhKTtcbiAgICBcbiAgICAgICAgICAgICAgICByZXNvbHZlKGRhdGEpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3I6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyc0NvbnRhaW5lci50ZXh0Q29udGVudCA9ICdFcnJvciBsb2FkaW5nIGltYWdlLic7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBmaWxlVXBsb2FkSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsZVVwbG9hZCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgZmlsZVVwbG9hZElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGhhbmRsZUZpbGVVcGxvYWQpO1xuXG4gICAgaW5pdGlhbGl6ZVBsYWNlaG9sZGVycygpO1xufSk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./static/ts/gen.ts\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./static/ts/gen.ts"]();
/******/ 	
/******/ })()
;